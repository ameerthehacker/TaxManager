<div class="row no-gutters">
  <div class="col-sm-3">
    <table class="table table-bordered">
      <tr>
        <th>Owner Name</th>
      </tr>
      <tr>
        <th>&nbsp;</th>
      </tr>
      <tr *ngFor="let availableHouse of sheetDetails.availableHouses">
        <td>{{ availableHouse.owner_name }}</td>
      </tr>
    </table>
  </div>
  <div class="col-sm-9">
    <table class="table table-bordered table-responsive">
      <tr>
        <th *ngFor="let availableTax of sheetDetails.availableTaxes" colspan="5">{{ availableTax.tax }} Tax</th>
      </tr>
      <tr>
        <ng-container *ngFor="let availableTax of sheetDetails.availableTaxes">
          <th>Previous</th>
          <th>Current</th>
          <th>Total</th>
          <th>Paid Amount</th>
          <th>Balance</th>
        </ng-container>
      </tr>
      <tr *ngFor="let availableHouse of sheetDetails.availableHouses">
        <ng-container *ngFor="let availableTax of sheetDetails.availableTaxes">
          <ng-container *ngIf="sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id]">
            <td *ngIf="sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].previousYear">
              {{ sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].previousYear }}
            </td>
            <td *ngIf="!sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].previousYear">
              -
            </td>
            <td *ngIf="sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].currentYear">
              <ng-container *ngIf="!sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].currentYearEditable">
                {{ sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].currentYear }} &nbsp;
                <a (click)="onCurrentYearEditClick($event, availableHouse.id, availableTax.id)" href="#">
                  <i class="fa fa-1x fa-pencil"></i>
                </a>
              </ng-container>
              <input type="text" (blur)="onCurrentYearBlur($event, sheetDetails.id,availableHouse.id, availableTax.id)" (keypress)="onCurrentYearKeyPress($event, sheetDetails.id,availableHouse.id, availableTax.id)"
                class="form-control" *ngIf="sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].currentYearEditable"
                [value]="sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].currentYear">
            </td>
            <td *ngIf="!sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].currentYear">
              -
            </td>
            <td>
              {{ parseInt(sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].currentYear || 0) + parseInt(sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].previousYear
              || 0) }}
            </td>
            <td *ngIf="sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].currentYear">
              <ng-container *ngIf="!sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].paidAmountEditable">
                {{ sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].paidAmount }} &nbsp;
                <a (click)="onPaidAmountEditClick($event, availableHouse.id, availableTax.id)" href="#">
                  <i class="fa fa-1x fa-pencil"></i>
                </a>
              </ng-container>
              <input type="text" (blur)="onPaidAmountBlur($event, sheetDetails.id,availableHouse.id, availableTax.id)" (keypress)="onPaidAmountKeyPress($event, sheetDetails.id,availableHouse.id, availableTax.id)"
                class="form-control" *ngIf="sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].paidAmountEditable"
                [value]="sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].paidAmount">
            </td>
            <td *ngIf="!sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].paidAmount">
              -
            </td>
            <td>
              {{ parseInt(sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].currentYear || 0) + parseInt(sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].previousYear
              || 0) - parseInt(sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id].paidAmount || 0) }}
            </td>
          </ng-container>
          <ng-container *ngIf="!sheetDetails.balanceSheet[availableHouse.id].taxes[availableTax.id]">
            <td>-</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
          </ng-container>
        </ng-container>
      </tr>
      <!-- List the tax and the amount paid -->
    </table>
  </div>
</div>